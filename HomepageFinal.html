<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="footer.css" rel="stylesheet">
    <link href="header.css" rel="stylesheet">
    <link href="video.css" rel="stylesheet">
    <link href="gradient_text.css" rel="stylesheet">
    <link href="card-slider.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="https://cdn.freebiesupply.com/images/large/2x/apple-logo-transparent.png">
    <style>

        
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
        @import url("https://api.fontshare.com/v2/css?f[]=archivo@100,200,300,400,500,600,700,800,900&f[]=clash-display@200,300,400,500,600,700&display=swap");

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            height: 100vh;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            overflow-x: hidden;
        }
        .container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .notch-section {
            position: fixed;
            top: 25px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 80px;
            opacity: 0;
            transform: translateX(-50%) translateY(-20px);
            animation: notchAppear 1s ease-out 0.5s forwards;
            pointer-events: none;
            transition: all 0.3s ease-out;
        }

        @media (max-width: 768px) {
            .notch-section {
                top: 15px;
                height: 70px;
                transform: translateX(-50%) translateY(0) !important;
                opacity: 1 !important;
            }
            
            .notch-section.scrolled-up .notch {
                width: 340px !important;
                padding: 12px 18px !important;
                height: 48px !important;
                background: rgba(0, 0, 0, 0.92) !important;
                box-shadow: 0 15px 35px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.15) !important;
                gap: 10px !important;
            }
            
            .notch-section.scrolled-up .text-overlay {
                opacity: 1 !important;
                transform: translate(-50%, -50%) scale(1) !important;
                pointer-events: auto !important;
                transition-delay: 0.3s !important;
            }
            
            .notch-section.scrolled-up .product-link {
                opacity: 1 !important;
                transform: translateY(0) !important;
                animation: none !important;
            }
            
            .notch-section.scrolled-up .product-link:nth-child(1) {
                transition-delay: 0.5s;
            }
            .notch-section.scrolled-up .product-link:nth-child(2) {
                transition-delay: 0.6s;
            }
            .notch-section.scrolled-up .product-link:nth-child(3) {
                transition-delay: 0.7s;
            }
            .notch-section.scrolled-up .product-link:nth-child(4) {
                transition-delay: 0.8s;
            }
            .notch-section.scrolled-up .product-link:nth-child(5) {
                transition-delay: 0.9s;
            }
            
            .notch-section.scrolled-up.auto-collapsed .notch {
                width: 140px !important;
                padding: 10px 16px !important;
                height: 40px !important;
                background: rgba(0, 0, 0, 0.85) !important;
                box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
                gap: 8px !important;
            }
            
            .notch-section.scrolled-up.auto-collapsed .text-overlay {
                opacity: 0 !important;
                transform: translate(-50%, -50%) scale(0.85) !important;
                pointer-events: none !important;
                transition-delay: 0s !important;
            }
            
            .notch-section.scrolled-up.auto-collapsed .product-link {
                opacity: 0 !important;
                transform: translateY(10px) !important;
            }
        }

        @keyframes notchAppear {
            0% {
                opacity: 0;
                transform: translateX(-50%) translateY(-20px);
            }
            100% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        .notch-container {
            position: relative;
            background: rgba(255, 255, 255, 0.04);
            border-radius: 40px;
            padding: 6px;
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.06);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            pointer-events: auto;
        }

        .notch-container:hover {
            background: rgba(255, 255, 255, 0.06);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
            transform: translateY(-2px);
        }

        .notch {
            background: rgba(0, 0, 0, 0.85);
            border-radius: 35px;
            padding: 10px 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
            cursor: pointer;
            min-width: 140px;
            max-width: 550px;
            width: 140px;
            height: 40px;
            overflow: hidden;
            position: relative;
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .notch-container:hover .notch {
            width: 550px;
            padding: 14px 24px;
            height: 46px;
            background: rgba(0, 0, 0, 0.92);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.15);
            gap: 16px;
        }

        .text-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.85);
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 8px;
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            transition-delay: 0.6s;
            pointer-events: none;
            z-index: 10;
        }

        .notch-container:hover .text-overlay {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            pointer-events: auto;
        }

        .notch-content {
            display: flex;
            align-items: center;
            gap: 8px;
            width: 100%;
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .notch-container:hover .notch-content {
            gap: 12px;
        }

        .app-icon {
            width: 28px;
            height: 28px;
            border-radius: 7px;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC5UlEQVR4Aa1XQ3hkQRjc+ynX2OZtbfu+tm3b1nlt27a9O4qNS5xxbdd+cTKvXydT31fJoPuvmvf6/ejw86dBlX6CwwQXCq6t5cLaz/xV4+ld6F8r9NdgsCAjIwf5+UUoLCwBydf8jN+JNQbBddzjDQM+gocErRSyWm2QgWu4lntq9/q01UAfwYKCgmK43W6ognu4lzEE+6oamCboLC0tR3vBGIwlOF2vgZm5uQWoqamBXrhcLpw5cxZ79uxFKxCxrGBMxpYZ6Eu33KAXNDp+/AQEBgbzv8Y6Kxi7+e1ofuAKVS/7zp27KE7i6dNnem5HAbVaM3CYh0YF/PWRkdEUpxHoQe3BPNTcQJCgTc9pT0tLh8VigdPpBLFv3348evVKBC7A16/fkJmZKX06qCXo39jAej67Wnjx4iVGjBiJ0NBwBAeHYsCAgTh48BCuXLmCKVOmIioqBrwS4eGRGDduPMxmMzyBWtRsbMCglWSePXuOkJAwCuhmnz79YLVaPSUrGjDWGQhgCvWEyspKdOrURUk8JiYO799/0Exg1KQ2DQxjHveEO3fuKomTPBcyUJPaNLCQxcQTNm3arGzAYDBABmoK7UU0sE7rAC5dukxJPCgoRPy6DMhATWpLDWzbtl35Cty//0DBgOQW3LhxU9nAsGEj4HA4dN0CySHkwvy6bKfECRMmISsrS34IZY8hMXnyFAZV5rFjx6WPoa5E9PnzZ2XxpKQUlJaWaiUik1IqXrBgkZKB06fPwBOKiv4fwA3Ni5FdK3NVVFSgd+++usRnzJilXIzII7JynJOTAxaa7t17Yt68+bh37z6+fPmKCxcuYvToMejVqzdWrVrNMi0rx4cVGxIFKDQkCi2ZAhRaMklTavWqeF6epCltxuneasvLyurb8lmqg0lfLw4m/dozmh0RtBUV6R/NuJZ7avf6eGs4ZeIwMoVmZrYcTvkZv+MarlUZTlUZIDi8diRfX8uFtZ8FqMb7Bx+2VJbBTrlcAAAAAElFTkSuQmCC');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .notch-container:hover .app-icon {
            width: 32px;
            height: 32px;
            transform: scale(1.05);
        }

        .product-link {
            color: white;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            white-space: nowrap;
            text-decoration: none;
            display: inline-block;
            padding: 6px 8px;
            border-radius: 6px;
            position: relative;
            overflow: hidden;
            transform: translateY(10px);
            opacity: 0;
        }

        .notch-container:hover .product-link:nth-child(1) {
            animation: linkAppear 0.3s ease-out 0.8s forwards;
        }
        .notch-container:hover .product-link:nth-child(2) {
            animation: linkAppear 0.3s ease-out 0.9s forwards;
        }
        .notch-container:hover .product-link:nth-child(3) {
            animation: linkAppear 0.3s ease-out 1.0s forwards;
        }
        .notch-container:hover .product-link:nth-child(4) {
            animation: linkAppear 0.3s ease-out 1.1s forwards;
        }
        .notch-container:hover .product-link:nth-child(5) {
            animation: linkAppear 0.3s ease-out 1.2s forwards;
        }

        @keyframes linkAppear {
            0% {
                transform: translateY(10px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .notch-container:not(:hover) .product-link {
            animation: none;
            transform: translateY(10px);
            opacity: 0;
        }

        .product-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 6px;
        }

        .product-link:hover::before {
            opacity: 1;
        }

        .product-link:hover {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transform: translateY(-1px);
        }

        .product-link:active {
            transform: translateY(0);
        }

        .product-link:visited {
            color: white;
        }

        /* Modified green status indicator - only appears on hover */
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #34d399;
            flex-shrink: 0;
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .notch-container:hover .status-indicator {
            opacity: 1;
        }

        .status-indicator::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 18px;
            height: 18px;
            background: #34d399;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.3;
            animation: pulse 2.5s infinite;
        }

        @keyframes pulse {
            0% {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0.3;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.3);
                opacity: 0.1;
            }
            100% {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0.3;
            }
        }

        .notch-section.scrolled-up .status-indicator {
            opacity: 1 !important;
        }

        .notch-section.scrolled-up.auto-collapsed .status-indicator {
            opacity: 0 !important;
        }

        @media (max-width: 768px) {
            .notch-container:hover .notch {
                width: 340px;
                padding: 12px 18px;
                height: 48px;
            }
            
            .notch-section {
                will-change: transform;
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
            }
            
            .text-overlay {
                flex-wrap: nowrap;
                gap: 6px;
            }
            
            .product-link {
                font-size: 11px;
                padding: 4px 6px;
                border-radius: 4px;
                transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            }
            
            .notch-container:hover .notch {
                width: 140px;
                padding: 10px 16px;
                height: 40px;
                background: rgba(0, 0, 0, 0.85);
                box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
                gap: 8px;
            }
            
            .notch-container:hover .text-overlay {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.85);
                pointer-events: none;
                transition-delay: 0s;
            }
            
            .notch-container:hover .product-link {
                opacity: 0;
                transform: translateY(10px);
                animation: none;
            }
            
            .notch-container:hover .status-indicator {
                opacity: 1;
            }
        }

        @media (max-width: 480px) {
            .notch-section.scrolled-up .notch {
                width: 320px !important;
                padding: 10px 16px !important;
                height: 46px !important;
            }
            
            .product-link {
                font-size: 10px;
                padding: 3px 5px;
            }
        }

        @media (max-width: 360px) {
            .notch-section.scrolled-up .notch {
                width: 300px !important;
                padding: 8px 14px !important;
                height: 44px !important;
            }
            
            .text-overlay {
                gap: 4px;
            }
            
            .product-link {
                font-size: 9px;
                padding: 2px 4px;
            }
        }

        .main-content {
            padding-top: 100px;
        }

        @media (max-width: 768px) {
            .main-content {
                padding-top: 90px;
            }
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="header_iPhone">iPhone</div>
        <div class="header_slogan">Designed to be loved.</div>
    </div>
    
    <div class="video">
        <div class="video_position">
            <video class="video_loop" autoplay muted loop>
                <source src="https://www.apple.com/105/media/ww/iphone/family/2025/e7ff365a-cb59-4ce9-9cdf-4cb965455b69/anim/welcome/xlarge.mp4" type="video/mp4">
            </video>
            <div class="video-overlay"></div>
        </div>
    </div>
    
    <div class="container">
        <div class="notch-section" id="notchSection">
            <div class="notch-container">
                <div class="notch">
                    <div class="notch-content">
                        <div class="app-icon"></div>
                        <div class="status-indicator"></div>
                    </div>
                </div>
                <div class="text-overlay">
                    <a href="#" class="product-link">Home</a>
                    <a href="Mac.html" class="product-link">Mac</a>
                    <a href="iPad.html" class="product-link">iPad</a>
                    <a href="iPhone.html" class="product-link">iPhone</a>
                    <a href="index.html" class="product-link">Log out</a>
                </div>
            </div>
        </div>

        <h1 class="gradient-text">Say hello to iPhone.</h1>

        <div class="slider-section">
            <div class="slider">
                <button class="slider--btn slider--btn__prev">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6" />
                    </svg>
                </button>
                <div class="slides__wrapper">
                    <div class="slides">

                        <div class="slide" data-current>
                            <div class="slide__inner">
                                <div class="slide--image__wrapper">
                                    <img class="slide--image"
                                    src="iphone_16_pro_max.png"
                                    alt="iPhone 16 Pro Max" crossorigin="anonymous" />
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-position="1">
                            <div class="slide__inner">
                                <div class="slide--image__wrapper">
                                    <img class="slide--image"
                                    src="iphone_16_pro.png"
                                    alt="iPhone 16 Pro" crossorigin="anonymous" />
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-position="2">
                            <div class="slide__inner">
                                <div class="slide--image__wrapper">
                                    <img class="slide--image"
                                    src="iphone_16.png"
                                    alt="iPhone 16" crossorigin="anonymous" />
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-position="3">
                            <div class="slide__inner">
                                <div class="slide--image__wrapper">
                                    <img class="slide--image"
                                    src="iphone_16e.png"
                                    alt="iPhone 16e" crossorigin="anonymous" />
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-position="4">
                            <div class="slide__inner">
                                <div class="slide--image__wrapper">
                                    <img class="slide--image"
                                    src="iphone_15_pro_max.png"
                                    alt="iPhone 15 Pro Max" crossorigin="anonymous" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="slides--infos">

                        <div class="slide-info" data-current>
                            <div class="slide-info__inner">
                                <div class="slide-info--text__wrapper">
                                    <div data-title class="slide-info--text"><span>iPhone 16</span></div>
                                    <div data-subtitle class="slide-info--text"><span>Pro Max</span></div>
                                    <div data-description class="slide-info--text"><span>Beyond Pro. Beyond Limit.</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide-info">
                            <div class="slide-info__inner">
                                <div class="slide-info--text__wrapper">
                                    <div data-title class="slide-info--text"><span>iPhone 16</span></div>
                                    <div data-subtitle class="slide-info--text"><span>Pro</span></div>
                                    <div data-description class="slide-info--text"><span>The ultimate iPhone.</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide-info">
                            <div class="slide-info__inner">
                                <div class="slide-info--text__wrapper">
                                    <div data-title class="slide-info--text"><span>iPhone 16</span></div>
                                    <div data-description class="slide-info--text"><span>A total powerhouse.</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide-info">
                            <div class="slide-info__inner">
                                <div class="slide-info--text__wrapper">
                                    <div data-title class="slide-info--text"><span>iPhone 16e</span></div>
                                    <div data-description class="slide-info--text"><span>Latest iPhone. Greatest price.</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide-info">
                            <div class="slide-info__inner">
                                <div class="slide-info--text__wrapper">
                                    <div data-title class="slide-info--text"><span>iPhone 15</span></div>
                                    <div data-description class="slide-info--text"><span>As amazing as ever.</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="slider--btn slider--btn__next">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m9 18 6-6-6-6" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

<footer class="apple-footer">
        <div class="footer_container">
            <div class="apple-logos">
                <i class="fab fa-apple"></i>
            </div>

            <div class="social-links">
                <a href="https://www.facebook.com/apple/" class="social-icon" aria-label="Facebook">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://www.instagram.com/apple/" class="social-icon" aria-label="Instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://x.com/apple?lang=en" class="social-icon" aria-label="Twitter">
                    <i class="fab fa-twitter"></i>
                </a>
            </div>

            <div class="footer-links">
                <a href="https://www.apple.com/ph/privacy/" class="footer-link">Privacy Policy</a>
                <span class="divider">|</span>
                <a href="https://www.apple.com/legal/internet-services/terms/site.html" class="footer-link">Terms of Use</a>
                <span class="divider">|</span>
                <a href="https://www.apple.com/ph/contact/" class="footer-link">Contact Us</a>
                <span class="divider">|</span>
                <a href="aboutpage.html" class="footer-link">About Us</a>
            </div>

            <div class="copyright">
                Â© 2025 Apple Inc. All rights reserved.
            </div>

            <div class="disclaimer-wrapper">
                <div class="disclaimer">
                    This is only for Educational Purposes. (NOT AN OFFICIAL WEBSITE OF Apple Inc.)
                </div>
            </div>
        </div>
    </footer>

    <script>


const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('revealed');
        } else {
            entry.target.classList.remove('revealed');
        }
    });
}, observerOptions);


const scaleElements = document.querySelectorAll('.gradient-text, .scale-up');

scaleElements.forEach(el => {
    observer.observe(el);
});

const wrap = (n, max) => (n + max) % max;
const lerp = (a, b, t) => a + (b - a) * t;
const genId = (() => {
    let count = 0;
    return () => (count++).toString();
})();

class Raf {
    constructor() {
        this.rafId = 0;
        this.callbacks = [];
        this.start();
    }
    start() {
        this.raf();
    }
    stop() {
        cancelAnimationFrame(this.rafId);
    }
    raf = () => {
        this.callbacks.forEach(({ callback, id }) => callback({ id }));
        this.rafId = requestAnimationFrame(this.raf);
    };
    add(callback, id) {
        this.callbacks.push({ callback, id: id || genId() });
    }
    remove(id) {
        this.callbacks = this.callbacks.filter((cb) => cb.id !== id);
    }
}

class Vec2 {
    constructor(x = 0, y = 0) {
        this.x = x;
        this.y = y;
    }
    set(x, y) {
        this.x = x;
        this.y = y;
    }
    lerp(v, t) {
        this.x = lerp(this.x, v.x, t);
        this.y = lerp(this.y, v.y, t);
    }
}

const vec2 = (x = 0, y = 0) => new Vec2(x, y);

function tilt(node, options) {
    let { trigger, target } = resolveOptions(node, options);
    let lerpAmount = 0.06;

    const rotDeg = { current: vec2(), target: vec2() };
    const bgPos = { current: vec2(), target: vec2() };

    const update = (newOptions) => {
        destroy();
        ({ trigger, target } = resolveOptions(node, newOptions));
        init();
    };

    let rafId;
    function ticker({ id }) {
        rafId = id;
        rotDeg.current.lerp(rotDeg.target, lerpAmount);
        bgPos.current.lerp(bgPos.target, lerpAmount);
        for (const el of target) {
            el.style.setProperty("--rotX", rotDeg.current.y.toFixed(2) + "deg");
            el.style.setProperty("--rotY", rotDeg.current.x.toFixed(2) + "deg");
            el.style.setProperty("--bgPosX", bgPos.current.x.toFixed(2) + "%");
            el.style.setProperty("--bgPosY", bgPos.current.y.toFixed(2) + "%");
        }
    }

    const onMouseMove = ({ offsetX, offsetY }) => {
        lerpAmount = 0.1;
        for (const el of target) {
            const ox = (offsetX - el.clientWidth * 0.5) / (Math.PI * 3);
            const oy = -(offsetY - el.clientHeight * 0.5) / (Math.PI * 4);
            rotDeg.target.set(ox, oy);
            bgPos.target.set(-ox * 0.3, oy * 0.3);
        }
    };

    const onMouseLeave = () => {
        lerpAmount = 0.06;
        rotDeg.target.set(0, 0);
        bgPos.target.set(0, 0);
    };

    const addListeners = () => {
        trigger.addEventListener("mousemove", onMouseMove);
        trigger.addEventListener("mouseleave", onMouseLeave);
    };

    const removeListeners = () => {
        trigger.removeEventListener("mousemove", onMouseMove);
        trigger.removeEventListener("mouseleave", onMouseLeave);
    };

    const init = () => {
        addListeners();
        raf.add(ticker);
    };

    const destroy = () => {
        removeListeners();
        raf.remove(rafId);
    };

    init();
    return { destroy, update };
}

function resolveOptions(node, options) {
    return {
        trigger: options?.trigger ?? node,
        target: options?.target ? (Array.isArray(options.target) ? options.target : [options.target]) : [node]
    };
}

const raf = new Raf();


function setupScrollAnimation() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('revealed');
            } else {
                entry.target.classList.remove('revealed');
            }
        });
    }, observerOptions);


    const animateElements = document.querySelectorAll('.gradient-text, .hero-subtitle, .slider-section');
    
    animateElements.forEach(el => {
        observer.observe(el);
    });
}

function init() {
    const slides = [...document.querySelectorAll(".slide")];
    const slidesInfo = [...document.querySelectorAll(".slide-info")];
    const buttons = {
        prev: document.querySelector(".slider--btn__prev"),
        next: document.querySelector(".slider--btn__next")
    };


    slides.forEach((slide, i) => {
        const slideInner = slide.querySelector(".slide__inner");
        const slideInfoInner = slidesInfo[i].querySelector(".slide-info__inner");
        tilt(slide, { target: [slideInner, slideInfoInner] });
    });


    buttons.prev.addEventListener("click", change(-1));
    buttons.next.addEventListener("click", change(1));


    document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowLeft") {
            change(-1)();
        } else if (e.key === "ArrowRight") {
            change(1)();
        }
    });


    let touchStartX = 0;
    let touchEndX = 0;
    const slider = document.querySelector(".slider");

    slider.addEventListener("touchstart", (e) => {
        touchStartX = e.changedTouches[0].screenX;
    });

    slider.addEventListener("touchend", (e) => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
    });

    function handleSwipe() {
        const swipeThreshold = 50;
        const diff = touchStartX - touchEndX;
        
        if (Math.abs(diff) > swipeThreshold) {
            if (diff > 0) {

                change(1)();
            } else {

                change(-1)();
            }
        }
    }
}

function change(direction) {
    return () => {
        const slides = [...document.querySelectorAll(".slide")];
        const slidesInfo = [...document.querySelectorAll(".slide-info")];
        const slidesBg = [...document.querySelectorAll(".slide__bg")];

        let currentIndex = slides.findIndex(slide => slide.hasAttribute("data-current"));
        let newCurrentIndex = (currentIndex + direction + slides.length) % slides.length;


        slides.forEach(slide => {
            slide.removeAttribute("data-current");
            slide.removeAttribute("data-position");
        });

        slidesInfo.forEach(info => {
            info.removeAttribute("data-current");
        });

        slidesBg.forEach(bg => {
            bg.removeAttribute("data-current");
        });


        slides[newCurrentIndex].setAttribute("data-current", "");
        slidesInfo[newCurrentIndex].setAttribute("data-current", "");
        if (slidesBg[newCurrentIndex]) {
            slidesBg[newCurrentIndex].setAttribute("data-current", "");
        }


        for (let i = 1; i < slides.length; i++) {
            const slideIndex = (newCurrentIndex + i) % slides.length;
            slides[slideIndex].setAttribute("data-position", i.toString());
        }
    };
}


function startAutoSlide(interval = 5000) {
    return setInterval(() => {
        change(1)();
    }, interval);
}

document.addEventListener("DOMContentLoaded", () => {
    init();
    setupScrollAnimation();
});


window.addEventListener("resize", () => {

    setTimeout(() => {
        init();
    }, 100);
});


function preloadImages() {
    const images = [
        "https://powermaccenter.com/cdn/shop/files/iPhone_16_Pro_Max_Desert_Titanium_PDP_Image_Position_1__en-WW.jpg?v=1726238735&width=1920",
        "https://electroworld.abenson.com/media/catalog/product/1/9/194199_2024.jpg",
        "https://powermaccenter.com/cdn/shop/files/iPhone_16_Pink_PDP_Image_Position_1__en-WW_0474d5a3-b986-4250-b06e-8911661e4309.jpg?v=1726235716",
        "https://powermaccenter.com/cdn/shop/files/83736d9f-dd3d-57a2-bcf4-2668b975f66d_m_jpg_1_4613cbe1-bdbd-4401-9ce3-a108f1a8a90d.jpg?v=1739992674&width=1920",
        "https://powermaccenter.com/cdn/shop/files/iPhone_15_Pro_Max_Natural_Titanium_PDP_Image_Position-1__en-US_3295c924-7c21-417d-870c-32bee7f1e310.jpg?v=1695861436"
    ];
    
    images.forEach(src => {
        const img = new Image();
        img.src = src;
    });
}


window.addEventListener("load", preloadImages);
















        let lastScrollTop = 0;
        let scrollDirection = 'up';
        const notchSection = document.getElementById('notchSection');

        function isMobileDevice() {
            return window.innerWidth <= 768;
        }

        function handleScroll() {
            if (!isMobileDevice()) {
                notchSection.classList.remove('scrolled-up', 'scrolled-down');
                return;
            }

            const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
            
            if (currentScroll > lastScrollTop && currentScroll > 100) {
                scrollDirection = 'down';
                notchSection.classList.add('scrolled-down');
                notchSection.classList.remove('scrolled-up');
            } else if (currentScroll < lastScrollTop || currentScroll <= 100) {
                scrollDirection = 'up';
                notchSection.classList.add('scrolled-up');
                notchSection.classList.remove('scrolled-down');
            }
            
            lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
        }

        let autoCollapseTimer;

        function startAutoCollapseTimer() {
            if (!isMobileDevice()) return;
            
            clearTimeout(autoCollapseTimer);
            autoCollapseTimer = setTimeout(() => {
                if (notchSection.classList.contains('scrolled-up')) {
                    notchSection.classList.add('auto-collapsed');
                }
            }, 3000);
        }

        function resetAutoCollapseTimer() {
            if (!isMobileDevice()) return;
            
            clearTimeout(autoCollapseTimer);
            notchSection.classList.remove('auto-collapsed');
            startAutoCollapseTimer();
        }

        let ticking = false;
        function requestTick() {
            if (!ticking) {
                requestAnimationFrame(handleScroll);
                ticking = true;
            }
        }

        function finishTick() {
            ticking = false;
        }

        window.addEventListener('scroll', () => {
            requestTick();
            setTimeout(finishTick, 16);
            
            if (isMobileDevice()) {
                resetAutoCollapseTimer();
            }
        });

        window.addEventListener('resize', () => {
            handleScroll();
            if (isMobileDevice()) {
                resetAutoCollapseTimer();
            }
        });

        if (isMobileDevice()) {
            notchSection.addEventListener('touchstart', resetAutoCollapseTimer, { passive: true });
            notchSection.addEventListener('touchmove', resetAutoCollapseTimer, { passive: true });
        }

        handleScroll();
        if (isMobileDevice()) {
            startAutoCollapseTimer();
        }

        document.addEventListener('touchstart', function() {}, { passive: true });
        document.addEventListener('touchmove', function() {}, { passive: true });
</script>
</body>
</html>
